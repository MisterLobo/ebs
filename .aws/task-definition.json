{
    "family": "ebs-api-skynet",
    "containerDefinitions": [
        {
            "name": "ebs-api-skynet",
            "image": "645972258043.dkr.ecr.ap-southeast-1.amazonaws.com/ebs-api-test:62ec333498575f24680d3c88d037af622092e114",
            "cpu": 1024,
            "portMappings": [
                {
                    "name": "main-port-9090",
                    "containerPort": 9090,
                    "hostPort": 9090,
                    "protocol": "tcp",
                    "appProtocol": "http"
                }
            ],
            "essential": true,
            "restartPolicy": {
                "enabled": true
            },
            "command": [
                "./api"
            ],
            "environment": [
                {
                    "name": "API_HOST",
                    "value": "https://silver-elven.com"
                },
                {
                    "name": "S3_SECRETS_BUCKET",
                    "value": "ebs-api-secrets"
                },
                {
                    "name": "AWS_REGION",
                    "value": "ap-southeast-1"
                },
                {
                    "name": "MAINTENANCE_MODE",
                    "value": "false"
                },
                {
                    "name": "FBASE_STORAGE_BUCKET",
                    "value": "events-booking-system-8184a.firebasestorage.app"
                },
                {
                    "name": "FBASE_MESSAGING_SENDER_ID",
                    "value": "948261007536"
                },
                {
                    "name": "FBASE_AUTH_DOMAIN",
                    "value": "events-booking-system-8184a.firebaseapp.com"
                },
                {
                    "name": "KAFKA_BROKER",
                    "value": "boot-u2m.testcluster1.av5gus.c3.kafka.ap-southeast-1.amazonaws.com:9098,boot-2po.testcluster1.av5gus.c3.kafka.ap-southeast-1.amazonaws.com:9098,boot-mxp.testcluster1.av5gus.c3.kafka.ap-southeast-1.amazonaws.com:9098"
                },
                {
                    "name": "STRIPE_PUBLIC_KEY",
                    "value": "pk_test_51RMndAQUO0S7ag2UHHPkBPkI06NE96Igvq1tN6PbYelZn92mfnruoaBx6ZpH7B3Y7ySsPDJrFlHQu03blFUOE2dm00l5vE1Bez"
                },
                {
                    "name": "FBASE_PROJECT_ID",
                    "value": "events-booking-system-8184a"
                },
                {
                    "name": "S3_ASSETS_BUCKET",
                    "value": "ebs-api-assets"
                },
                {
                    "name": "APP_HOST",
                    "value": "https://silver-elven.cc"
                },
                {
                    "name": "QSTASH_URL",
                    "value": "https://qstash.upstash.io"
                }
            ],
            "mountPoints": [
                {
                    "sourceVolume": "tempstorage",
                    "containerPath": "/temp",
                    "readOnly": false
                },
                {
                    "sourceVolume": "secrets",
                    "containerPath": "/secrets",
                    "readOnly": false
                }
            ],
            "volumesFrom": [],
            "secrets": [
                {
                    "name": "API_SECRET",
                    "valueFrom": "arn:aws:ssm:ap-southeast-1:645972258043:parameter/CodeBuild/API_SECRET"
                },
                {
                    "name": "API_WH_SECRET",
                    "valueFrom": "arn:aws:ssm:ap-southeast-1:645972258043:parameter/CodeBuild/API_WH_SECRET"
                },
                {
                    "name": "AWS_ACCESS_KEY_ID",
                    "valueFrom": "arn:aws:ssm:ap-southeast-1:645972258043:parameter/CodeBuild/AWS_ACCESS_KEY_ID"
                },
                {
                    "name": "AWS_EVENTBRIDGE_ROLE_ARN",
                    "valueFrom": "arn:aws:ssm:ap-southeast-1:645972258043:parameter/CodeBuild/AWS_EVENTBRIDGE_ROLE_ARN"
                },
                {
                    "name": "AWS_IAM_ROLE_ARN",
                    "valueFrom": "arn:aws:ssm:ap-southeast-1:645972258043:parameter/CodeBuild/AWS_IAM_ROLE_ARN"
                },
                {
                    "name": "AWS_IAM_USER_ARN",
                    "valueFrom": "arn:aws:ssm:ap-southeast-1:645972258043:parameter/CodeBuild/AWS_IAM_USER_ARN"
                },
                {
                    "name": "AWS_SECRET_ACCESS_KEY",
                    "valueFrom": "arn:aws:ssm:ap-southeast-1:645972258043:parameter/CodeBuild/AWS_SECRET_ACCESS_KEY"
                },
                {
                    "name": "DATABASE_CONNECTION",
                    "valueFrom": "arn:aws:ssm:ap-southeast-1:645972258043:parameter/CodeBuild/DATABASE_CONNECTION"
                },
                {
                    "name": "FBASE_API_KEY",
                    "valueFrom": "arn:aws:ssm:ap-southeast-1:645972258043:parameter/CodeBuild/FBASE_API_KEY"
                },
                {
                    "name": "FBASE_APP_ID",
                    "valueFrom": "arn:aws:ssm:ap-southeast-1:645972258043:parameter/CodeBuild/FBASE_APP_ID"
                },
                {
                    "name": "GOOGLE_CLIENT_ID",
                    "valueFrom": "arn:aws:ssm:ap-southeast-1:645972258043:parameter/CodeBuild/GOOGLE_CLIENT_ID"
                },
                {
                    "name": "GOOGLE_CLIENT_SECRET",
                    "valueFrom": "arn:aws:ssm:ap-southeast-1:645972258043:parameter/CodeBuild/GOOGLE_CLIENT_SECRET"
                },
                {
                    "name": "JWT_SECRET",
                    "valueFrom": "arn:aws:ssm:ap-southeast-1:645972258043:parameter/CodeBuild/JWT_SECRET"
                },
                {
                    "name": "QSTASH_CURRENT_SIGNING_KEY",
                    "valueFrom": "arn:aws:ssm:ap-southeast-1:645972258043:parameter/CodeBuild/QSTASH_CURRENT_SIGNING_KEY"
                },
                {
                    "name": "QSTASH_NEXT_SIGNING_KEY",
                    "valueFrom": "arn:aws:ssm:ap-southeast-1:645972258043:parameter/CodeBuild/QSTASH_NEXT_SIGNING_KEY"
                },
                {
                    "name": "QSTASH_TOKEN",
                    "valueFrom": "arn:aws:ssm:ap-southeast-1:645972258043:parameter/CodeBuild/QSTASH_TOKEN"
                },
                {
                    "name": "SCHEDULER_ROLE_ARN",
                    "valueFrom": "arn:aws:ssm:ap-southeast-1:645972258043:parameter/CodeBuild/SCHEDULER_ROLE_ARN"
                },
                {
                    "name": "SQS_QUEUE_ARN",
                    "valueFrom": "arn:aws:ssm:ap-southeast-1:645972258043:parameter/CodeBuild/SQS_QUEUE_ARN"
                },
                {
                    "name": "STRIPE_SECRET_KEY",
                    "valueFrom": "arn:aws:ssm:ap-southeast-1:645972258043:parameter/CodeBuild/STRIPE_SECRET_KEY"
                },
                {
                    "name": "STRIPE_WEBHOOK_SECRET",
                    "valueFrom": "arn:aws:ssm:ap-southeast-1:645972258043:parameter/CodeBuild/STRIPE_WEBHOOK_SECRET"
                }
            ],
            "logConfiguration": {
                "logDriver": "awslogs",
                "options": {
                    "awslogs-group": "/ecs/ebs-api-skynet",
                    "mode": "non-blocking",
                    "awslogs-create-group": "true",
                    "max-buffer-size": "25m",
                    "awslogs-region": "ap-southeast-1",
                    "awslogs-stream-prefix": "ecs"
                },
                "secretOptions": []
            },
            "systemControls": []
        }
    ],
    "taskRoleArn": "arn:aws:iam::645972258043:role/ecsTaskPolicy2",
    "executionRoleArn": "arn:aws:iam::645972258043:role/ecsTaskExecutionRole",
    "networkMode": "awsvpc",
    "volumes": [
        {
            "name": "tempstorage",
            "host": {}
        },
        {
            "name": "secrets",
            "host": {}
        }
    ],
    "placementConstraints": [],
    "requiresCompatibilities": [
        "FARGATE"
    ],
    "cpu": "1024",
    "memory": "8192",
    "runtimePlatform": {
        "cpuArchitecture": "X86_64",
        "operatingSystemFamily": "LINUX"
    }
}